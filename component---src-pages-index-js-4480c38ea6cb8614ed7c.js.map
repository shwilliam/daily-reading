{"version":3,"sources":["webpack:///./src/pages/index.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js"],"names":["HomePage","_ref","data","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","className","role","window","Object","keys","oneGraph","map","feedTitle","feed","rss2Feed","items","post","source","title","content","flatMap","sort","_ref2","_ref3","postA","pubDate","_ref4","date","hours","minutes","ampm","strTime","titleKebab","split","word","toLowerCase","join","localData","localStorage","getItem","getLocalData","key","href","link","onClick","localOpenedArticles","JSON","parse","includes","setItem","stringify","concat","target","rel","Date","getHours","getMinutes","getDate","getMonth","getFullYear","propTypes","PropTypes","shape","objectOf","arrayOf","string","isRequired","number","query","__webpack_require__","createHTML","url","this","$export","fails","defined","quot","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","length","toObject","$keys","it","core","KEY","fn","exp","flattenIntoArray","toLength","aFunction","arraySpeciesCreate","callbackfn","sourceLen","A","arguments","isArray","isObject","ctx","IS_CONCAT_SPREADABLE","original","start","depth","mapper","thisArg","element","spreadable","targetIndex","sourceIndex","mapFn","undefined","TypeError","$sort","comparefn","call","method","arg"],"mappings":"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","file":"component---src-pages-index-js-4480c38ea6cb8614ed7c.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql } from 'gatsby'\nimport '../styles/tachyons.min.css'\n\nconst formatDate = (date) => {\n  let hours = date.getHours()\n  let minutes = date.getMinutes()\n  const ampm = hours >= 12 ? 'pm' : 'am'\n  hours = hours % 12\n  hours = hours || 12\n  minutes = minutes < 10 ? '0' + minutes : minutes\n  const strTime = hours + ':' + minutes + ' ' + ampm\n  return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} ${strTime}`\n}\n\nconst getLocalData = () => {\n  if (typeof window !== 'undefined') {\n    return localStorage.getItem('opened_articles')\n  }\n}\n\nexport const HomePage = ({ data }) => {\n  return (<div className=\"lh-copy mw6 center ph3\">\n    <header className=\"tc\">\n      <h1 className=\"f1 lh-title mb0\">Reading list</h1>\n      <h2 className=\"f5 fw1\">\n      Recent articles from the Mozilla, Chrome, WebKit, SmashingMag, CSS Wizardry, Jake Archibald and Bram Stein\n      </h2>\n    </header>\n    <main role=\"main\">\n      <ul className=\"list pa0\">\n        {\n          typeof window !== 'undefined'\n            ? Object.keys(data.oneGraph)\n              .map(feedTitle => {\n                const { rss2Feed: feed } = data.oneGraph[feedTitle]\n                return feed.items\n                  .map(post => ({\n                    source: feed.title,\n                    content: post\n                  }))\n              })\n              .flatMap()\n              .sort(({ content: postA }, { content: postB }) => {\n                return postB.pubDate - postA.pubDate\n              })\n              .map(({ source, content }) => {\n                const titleKebab = content.title.split(' ').map(word => word.toLowerCase()).join('-')\n                const localData = getLocalData()\n\n                return (\n                  <li\n                    key={titleKebab}\n                    className=\"pv3 dim\"\n                  >\n                    <a\n                      href={content.link}\n                      onClick={() => {\n                        if (localData) {\n                          const { data: localOpenedArticles } = JSON.parse(localData)\n\n                          if (!localOpenedArticles.includes(titleKebab)) {\n                            localStorage.setItem('opened_articles', JSON.stringify({\n                              data: [titleKebab, ...localOpenedArticles]\n                            }))\n                          }\n                        } else {\n                          localStorage.setItem('opened_articles', JSON.stringify({\n                            data: [titleKebab]\n                          }))\n                        }\n                      }}\n                      className={`link near-black ${JSON.parse(localData).data.includes(titleKebab) ? 'strike' : ''}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      <small>\n                        {formatDate(new Date(content.pubDate))}\n                      </small>\n                      <h3 className=\"ma0\">{content.title}</h3>\n                    </a>\n                  </li>\n                )\n              }) : null\n        }\n      </ul>\n    </main>\n    <footer></footer>\n  </div>\n  )\n}\nHomePage.propTypes = {\n  data: PropTypes.shape({\n    oneGraph: PropTypes.objectOf(\n      PropTypes.shape({\n        rss2Feed: PropTypes.shape({\n          items: PropTypes.arrayOf(\n            PropTypes.shape({\n              link: PropTypes.string.isRequired,\n              pubDate: PropTypes.number.isRequired,\n              title: PropTypes.string.isRequired\n            }).isRequired\n          ),\n          title: PropTypes.string.isRequired\n        }).isRequired\n      }).isRequired\n    ).isRequired\n  }).isRequired\n}\n\nexport default HomePage\n\nexport const query = graphql`\n  {\n    oneGraph {\n      mozilla: rss {\n        rss2Feed(url: \"https://hacks.mozilla.org/feed/\") {\n          ...RSSFeedFragment\n        }\n      }\n      chrome: rss {\n        rss2Feed(url: \"https://blog.google/products/chrome/rss/\") {\n          ...RSSFeedFragment\n        }\n      }\n      webkit: rss {\n        rss2Feed(url: \"https://webkit.org/feed/\") {\n          ...RSSFeedFragment\n        }\n      }\n      smashingMag: rss {\n        rss2Feed(url: \"https://www.smashingmagazine.com/feed/\") {\n          ...RSSFeedFragment\n        }\n      }\n      cssWizardry: rss {\n        rss2Feed(url: \"https://csswizardry.com/feed\") {\n          ...RSSFeedFragment\n        }\n      }\n      jakeArchibald: rss {\n        rss2Feed(url: \"https://jakearchibald.com/posts.rss\") {\n          ...RSSFeedFragment\n        }\n      }\n      bramStein: rss {\n        rss2Feed(url: \"https://www.bramstein.com/rss.xml\") {\n          ...RSSFeedFragment\n        }\n      }\n    }\n  }\n\n  fragment RSSFeedFragment on ONEGRAPH_Rss2Channel {\n    title\n    items {\n      title\n      link\n      pubDate\n    }\n  }\n`\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n"],"sourceRoot":""}